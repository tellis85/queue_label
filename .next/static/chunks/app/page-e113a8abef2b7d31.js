(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7312:(e,t,a)=>{Promise.resolve().then(a.bind(a,3161))},3161:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(5155),s=a(2115),r=a(991),i=a(3463),n=a(9795);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,i.$)(t))}let d=r.bL;r.l9;let c=r.ZL,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.hJ,{ref:t,className:o("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});m.displayName=r.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(m,{}),(0,l.jsx)(r.UC,{ref:t,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:s})]})});u.displayName=r.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.hE,{ref:t,className:o("text-lg font-semibold leading-none tracking-tight",a),...s})}).displayName=r.hE.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.VY,{ref:t,className:o("text-sm text-muted-foreground",a),...s})}).displayName=r.VY.displayName;var x=a(142),h=a(78),g=a.n(h);let f=()=>{let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[j,v]=(0,s.useState)({}),[w,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/Reformatted_Data.csv"),a=(await e.text()).split("\n").slice(1).filter(e=>e.trim()).map(e=>{let t=e.split(",").map(e=>e.trim());return{Brand:t[0]||"",seriesname:t[1]||"",colorcode:t[2]||"","Background Template":t[3]||"",finish:t[4]||"",colorname:t[5]||"","Color Code + Color Name":t[6]||"",nominalsize_1:t[7]||"",nominalsize_2:t[8]||"",nominalsize_3:t[9]||""}});t(a),r(!1)}catch(e){console.error("Error loading CSV:",e),n("Failed to load label data"),r(!1)}})()},[]),(0,s.useEffect)(()=>{v({})},[m]);let C=e=>{if(!e)return null;let t=e.trim();return"/templates/daltile/".concat(t)},k=t=>{let{scale:a=1}=t,s=e.find(e=>e.Brand===o&&e.seriesname===m&&(e.colorcode===f||!f)),r=s?C(s["Background Template"]):null,i=Object.entries(j).filter(e=>{let[t,a]=e;return a}).map(e=>{let[t]=e;return t}).join(", "),n={fontFamily:"Geometria, Arial, sans-serif",fontSize:"".concat(8*a,"px"),lineHeight:"1.2",textTransform:"uppercase",letterSpacing:"0.05em",fontWeight:"500",color:"#000000",margin:"1px 0"};return(0,l.jsxs)("div",{className:"relative bg-white",style:{width:"".concat(192*a,"px"),height:"".concat(288*a,"px")},children:[r&&(0,l.jsx)("img",{src:r,alt:"Label Template",className:"w-full h-full object-contain",onError:e=>{console.error("Template load error:",r),e.currentTarget.src="/api/placeholder/192/288"}}),(0,l.jsx)("div",{style:{position:"absolute",top:"calc(2in + 0.25in)",left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",textAlign:"center"},children:s&&f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:n,children:s["Color Code + Color Name"]}),b&&(0,l.jsx)("div",{style:n,children:b}),i&&(0,l.jsx)("div",{style:n,children:i})]})})]})},S=(0,s.useMemo)(()=>[...new Set(e.map(e=>e.Brand))],[e]),B=(0,s.useMemo)(()=>o?[...new Set(e.filter(e=>e.Brand===o).map(e=>e.seriesname))]:[],[o,e]),z=(0,s.useMemo)(()=>m?[...new Set(e.filter(e=>e.Brand===o&&e.seriesname===m).map(e=>({code:e.colorcode,displayName:e["Color Code + Color Name"]})))]:[],[o,m,e]),E=(0,s.useMemo)(()=>m?[...new Set(e.filter(e=>e.Brand===o&&e.seriesname===m&&e.colorcode===f).map(e=>e.finish))].filter(e=>e&&"NULL"!==e):[],[o,m,f,e]),_=(0,s.useMemo)(()=>{if(!m)return[];let t=new Set;return e.filter(e=>e.Brand===o&&e.seriesname===m&&e.colorcode===f).forEach(e=>{["nominalsize_1","nominalsize_2","nominalsize_3"].forEach(a=>{e[a]&&""!==e[a]&&t.add(e[a])})}),Array.from(t).sort()},[o,m,f,e]),F=async()=>{let e=document.getElementById("print-layout");if(e)try{let t=await g()(e,{scale:4,useCORS:!0,logging:!1,width:1056,height:816,backgroundColor:"#ffffff",windowWidth:1056,windowHeight:816,x:0,y:0,scrollX:0,scrollY:0}),a=new x.Ay({orientation:"landscape",unit:"in",format:[11,8.5]}),l=t.toDataURL("image/png",1);a.addImage(l,"PNG",0,0,11,8.5,void 0,"FAST"),a.save("labels.pdf")}catch(e){console.error("Error generating PDF:",e),alert("Failed to generate PDF. Please try again.")}};return a?(0,l.jsx)("div",{className:"p-8 text-center",children:"Loading label data..."}):i?(0,l.jsx)("div",{className:"p-8 text-center text-red-500",children:i}):(0,l.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",value:o,onChange:e=>{c(e.target.value),h(""),p(""),y(""),v({})},children:[(0,l.jsx)("option",{value:"",children:"Select Brand"}),S.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Series"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",value:m,onChange:e=>{h(e.target.value),p(""),y(""),v({})},disabled:!o,children:[(0,l.jsx)("option",{value:"",children:"Select Series"}),B.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",value:f,onChange:e=>{p(e.target.value),y("")},disabled:!m,children:[(0,l.jsx)("option",{value:"",children:"Select Color"}),z.map(e=>{let{code:t,displayName:a}=e;return(0,l.jsx)("option",{value:t,children:a},t)})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Finish"}),(0,l.jsxs)("select",{className:"w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",value:b,onChange:e=>y(e.target.value),disabled:!f,children:[(0,l.jsx)("option",{value:"",children:"Select Finish"}),E.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),_.length>0&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Sizes"}),(0,l.jsx)("div",{className:"space-y-2",children:_.map(e=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"size-".concat(e),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j[e]||!1,onChange:t=>{v(a=>({...a,[e]:t.target.checked}))}}),(0,l.jsx)("label",{htmlFor:"size-".concat(e),className:"ml-2 text-sm text-gray-700",children:e})]},e))})]})]}),(0,l.jsx)("div",{className:"border rounded-lg p-4 bg-white min-h-[384px] flex items-center justify-center",children:(0,l.jsx)(k,{scale:1})})]}),(0,l.jsx)(d,{open:w,onOpenChange:N,children:(0,l.jsxs)(u,{className:"max-w-[95vw] w-[95vw] max-h-[95vh] overflow-y-auto",children:[(0,l.jsx)("div",{id:"print-layout",className:"bg-white flex items-center justify-center",children:(0,l.jsx)(()=>(0,l.jsx)("div",{className:"bg-white",style:{width:"11in",height:"8.5in",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 2in)",gridTemplateRows:"repeat(2, 3in)",gap:"0.25in",pageBreakAfter:"always",pageBreakInside:"avoid",margin:0,padding:0},children:Array.from({length:8}).map((e,t)=>(0,l.jsx)("div",{style:{width:"2in",height:"3in",pageBreakInside:"avoid",breakInside:"avoid"},children:(0,l.jsx)(k,{scale:1})},t))})}),{})}),(0,l.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,l.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",onClick:()=>N(!1),children:"Close"}),(0,l.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",onClick:F,children:"Download PDF"})]})]})}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>N(!0),disabled:!f,children:"Preview Print Layout"})})]})};function p(){return(0,l.jsx)("main",{className:"min-h-screen p-4",children:(0,l.jsx)(f,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[930,316,225,441,517,358],()=>t(7312)),_N_E=e.O()}]);